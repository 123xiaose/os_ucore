# lab7_report
## 练习1: 理解内核级信号量的实现和基于内核级信号量的哲学家就餐问题
### 请在实验报告中给出内核级信号量的设计描述，并说其大致执行流流程
一、需求分析
1. 信号量需要实现同步互斥的功能，当无法取得资源时，进程需要等待。因此需要记录当前的资源数量和等待的进程列表。
2. 当有资源时需要唤醒进程。
3. 

二、概要设计
1. 信号量抽象数据结构如下
ADT semaphore{
	数据对象：进程
	数据关系：
	基本操作：
	init
	up
	down
}

### 请在实验报告中给出给用户态进程/线程提供信号量机制的设计方案


问：
切换到B有可能是在用户态吗？不太可能，进程切换是在内核态切换的，布置好B的现场后，该是内核态就内核态，该是用户态就用户态。

当时间片用完时，如何调度？是在时钟中断时判断时间片吗？是的

make grade是如何加载其他程序的？user_main中的test

sem->value<0时，只表示有进程在等待，并不能表示有多少进程在等待，因为进程等待时，并没有更新value的值

用户态和内核态的信号量有什么区别？